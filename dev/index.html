<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · LLMTextAnalysis.jl</title><meta name="title" content="Home · LLMTextAnalysis.jl"/><meta property="og:title" content="Home · LLMTextAnalysis.jl"/><meta property="twitter:title" content="Home · LLMTextAnalysis.jl"/><meta name="description" content="Documentation for LLMTextAnalysis.jl."/><meta property="og:description" content="Documentation for LLMTextAnalysis.jl."/><meta property="twitter:description" content="Documentation for LLMTextAnalysis.jl."/><meta property="og:url" content="https://svilupp.github.io/LLMTextAnalysis.jl/"/><meta property="twitter:url" content="https://svilupp.github.io/LLMTextAnalysis.jl/"/><link rel="canonical" href="https://svilupp.github.io/LLMTextAnalysis.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>LLMTextAnalysis.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/1_topics_in_city_of_austin_community_survey/">Explore Topics in Your Documents</a></li><li><a class="tocitem" href="examples/2_concept_labeling_in_city_of_austin_community_survey/">Look for specific Concept/Spectrum</a></li><li><a class="tocitem" href="examples/3_customize_topic_labels/">Customize Topic Labels</a></li><li><a class="tocitem" href="examples/4_classify_documents/">Classify Your Documents</a></li></ul></li><li><a class="tocitem" href="FAQ/">F.A.Q.</a></li><li><a class="tocitem" href="api_reference/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/svilupp/LLMTextAnalysis.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/svilupp/LLMTextAnalysis.jl/blob/main/docs/src/index.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="LLMTextAnalysis"><a class="docs-heading-anchor" href="#LLMTextAnalysis">LLMTextAnalysis</a><a id="LLMTextAnalysis-1"></a><a class="docs-heading-anchor-permalink" href="#LLMTextAnalysis" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/svilupp/LLMTextAnalysis.jl">LLMTextAnalysis</a>.</p><p>Effortlessly uncover and label thematic insights in large document collections using the power of Large Language Models</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>LLMTextAnalysis.jl is a Julia package crafted to harness the power of Large Language Models (LLMs) for effectively identifying and labeling topics within document corpora. It offers an efficient way to analyze textual data, providing insights into underlying themes and concepts.</p><h3 id="Quick-Start"><a class="docs-heading-anchor" href="#Quick-Start">Quick Start</a><a id="Quick-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start" title="Permalink"></a></h3><p>Jump right into LLMTextAnalysis.jl with this simple example:</p><p>Note: You need to have a working LLM setup to run this example. See <a href="https://github.com/svilupp/PromptingTools.jl">PromptingTools.jl</a>. It takes a maximum of two minutes to get the OpenAI API key.</p><pre><code class="language-julia hljs">using LLMTextAnalysis
texts = [&quot;I like fries&quot;,&quot;I like burgers&quot;,&quot;How do you cook chicken?&quot;, &quot;Recently, I read a fantasy novel about dragons&quot;] # some vector of documents
index = build_index(texts)</code></pre><p>You&#39;ll see the following output:</p><pre><code class="language-plaintext hljs">[ Info: Embedding 4 documents...
[ Info: Done embedding. Total cost: $0.0
[ Info: Computing pairwise distances...
[ Info: Extracting keywords...

DocIndex(Documents: 4, PlotData: None, Topic Levels: 2)</code></pre><p>Now, you can use the <code>build_clusters!</code> function to add some topic clusters:</p><pre><code class="language-julia hljs">build_clusters!(index; k=2) # if you don&#39;t choose k, it will be chosen automatically
# review the topics generated when we ask for 2 clusters
index.topic_levels[2]</code></pre><pre><code class="language-plaintext hljs">[ Info: Building hierarchical clusters...
[ Info: Cutting clusters at k=2...
[ Info: Done building 2 topics. Cost: $0.0

2-element Vector{TopicMetadata}:
 TopicMetadata(ID: 1/2, Documents: 3, Label: &quot;Food Preferences and Cooking Techniques&quot;,  Summary: -)
 TopicMetadata(ID: 2/2, Documents: 1, Label: &quot;Dragons in Fantasy Novels&quot;,  Summary: -)</code></pre><p>Or you can just call the <code>plot</code> function (it will create some topic clusters automatically under the hood):</p><pre><code class="language-julia hljs">using Plots
plot(index)</code></pre><p>For some visual examples, jump to <a href="examples/1_topics_in_city_of_austin_community_survey/#Example-1:-Topics-in-the-City-of-Austin-Community-Survey">Example 1: Topics in the City of Austin Community Survey</a>.</p><p>You can easily show the topic tree for multiple levels of k, ie, see how the different topics roll up.</p><p>Let&#39;s ensure we have several topic levels, eg, k=4, k=10, k=20.</p><pre><code class="language-julia hljs">build_clusters!(index; k=4)
build_clusters!(index; k=10)
build_clusters!(index; k=20)</code></pre><p>Let&#39;s produce the topic tree:</p><pre><code class="language-julia hljs">root = topic_tree(index, [4, 10, 20])
print_tree(root)</code></pre><pre><code class="language-plaintext hljs">&quot;All Documents (N: 2933, Share: 100.0%, Level: root, Topic ID: 0)&quot;
├─ &quot;Austin Housing and Infrastructure Issues (N: 1754, Share: 59.8%, Level: 4, Topic ID: 1)&quot;
│  ├─ &quot;Homelessness In Austin (N: 894, Share: 30.48%, Level: 10, Topic ID: 3)&quot;
│  │  ├─ &quot;Traffic Improvement Solutions (N: 619, Share: 21.1%, Level: 20, Topic ID: 2)&quot;
│  │  ├─ &quot;Affordable Housing Crisis (N: 288, Share: 9.82%, Level: 20, Topic ID: 3)&quot;
│  │  ├─ &quot;City Improvement Priorities (N: 234, Share: 7.98%, Level: 20, Topic ID: 7)&quot;
│  │  ├─ &quot;Urban Infrastructure Development (N: 160, Share: 5.46%, Level: 20, Topic ID: 1)&quot;
│  │  ├─ &quot;Government Accountability Issues (N: 65, Share: 2.22%, Level: 20, Topic ID: 17)&quot;
│  │  ├─ &quot;Community Support Initiatives (N: 53, Share: 1.81%, Level: 20, Topic ID: 14)&quot;
│  │  ├─ &quot;Education Improvement Initiatives (N: 52, Share: 1.77%, Level: 20, Topic ID: 16)&quot;
│  │  ├─ &quot;Affordable Housing and Childcare (N: 18, Share: 0.61%, Level: 20, Topic ID: 10)&quot;
│  │  └─ &quot;Traffic, Immigration, And Taxes (N: 17, Share: 0.58%, Level: 20, Topic ID: 12)&quot;
│  ├─ &quot;Affordable Housing Concerns (N: 591, Share: 20.15%, Level: 10, Topic ID: 2)&quot;
│  │  ├─ &quot;Affordable Living in Austin (N: 543, Share: 18.51%, Level: 20, Topic ID: 8)&quot;
│  │  ├─ &quot;Addressing Homelessness in Austin (N: 333, Share: 11.35%, Level: 20, Topic ID: 5)&quot;
│  │  ├─ &quot;Soccer Stadium Controversy (N: 8, Share: 0.27%, Level: 20, Topic ID: 19)&quot;
│  │  └─ &quot;Community Engagement Challenges (N: 7, Share: 0.24%, Level: 20, Topic ID: 20)&quot;
│  ├─ &quot;City Safety and Governance (N: 234, Share: 7.98%, Level: 10, Topic ID: 5)&quot;
│  │  └─ &quot;Growth and Sustainability (N: 73, Share: 2.49%, Level: 20, Topic ID: 9)&quot;
│  ├─ &quot;Quality Over Growth (N: 168, Share: 5.73%, Level: 10, Topic ID: 6)&quot;
│  │  └─ &quot;Property Tax Concerns (N: 303, Share: 10.33%, Level: 20, Topic ID: 4)&quot;
│  ├─ &quot;Education Affordability Crisis (N: 52, Share: 1.77%, Level: 10, Topic ID: 10)&quot;
│  └─ &quot;City Resource Management (N: 49, Share: 1.67%, Level: 10, Topic ID: 7)&quot;
├─ &quot;Housing Affordability Concerns (N: 591, Share: 20.15%, Level: 4, Topic ID: 2)&quot;
├─ &quot;Core City Services Prioritization (N: 420, Share: 14.32%, Level: 4, Topic ID: 3)&quot;
│  ├─ &quot;Urban Mobility Improvement (N: 787, Share: 26.83%, Level: 10, Topic ID: 1)&quot;
│  │  ├─ &quot;City Resource Allocation (N: 49, Share: 1.67%, Level: 20, Topic ID: 11)&quot;
│  │  ├─ &quot;Equitable Leadership Decisions (N: 30, Share: 1.02%, Level: 20, Topic ID: 13)&quot;
│  │  ├─ &quot;Fairness and Accountability (N: 28, Share: 0.95%, Level: 20, Topic ID: 15)&quot;
│  │  └─ &quot;Appreciating Efforts And Service (N: 18, Share: 0.61%, Level: 20, Topic ID: 18)&quot;
│  └─ &quot;Community Concerns and Compliance (N: 24, Share: 0.82%, Level: 10, Topic ID: 8)&quot;
└─ &quot;Quality Of Life Concerns (N: 168, Share: 5.73%, Level: 4, Topic ID: 4)&quot;
   ├─ &quot;Equitable Community Support (N: 81, Share: 2.76%, Level: 10, Topic ID: 9)&quot;
   └─ &quot;Community Engagement Strategies (N: 53, Share: 1.81%, Level: 10, Topic ID: 4)&quot;
      └─ &quot;Community Engagement and Transparency (N: 35, Share: 1.19%, Level: 20, Topic ID: 6)&quot;</code></pre><p>Now you know what the key topics are across all levels!</p><h3 id="Installation-and-Setup"><a class="docs-heading-anchor" href="#Installation-and-Setup">Installation and Setup</a><a id="Installation-and-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Installation-and-Setup" title="Permalink"></a></h3><p>Install LLMTextAnalysis.jl via a direct link (it&#39;s not yet registered).</p><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;https://github.com/svilupp/LLMTextAnalysis.jl&quot;)</code></pre><p>The package depends on PromptingTools.jl, which facilitates integration with various Large Language Models. We recommend OpenAI for its efficiency, cost-effectiveness, and privacy. See <a href="https://github.com/svilupp/PromptingTools.jl">PromptingTools.jl documentation</a> for setup details.</p><h3 id="Explore-Topics"><a class="docs-heading-anchor" href="#Explore-Topics">Explore Topics</a><a id="Explore-Topics-1"></a><a class="docs-heading-anchor-permalink" href="#Explore-Topics" title="Permalink"></a></h3><p>Start analyzing your document corpus with these steps:</p><ol><li>Load your documents into the package.</li><li>Use the <code>build_index</code> function to process your texts.</li><li>Use the <code>plot</code> function to visualize the results. It will call all the supporting functions under the hood.</li></ol><p>A good starting point is the City of Austin Community Survey, available <a href="https://data.austintexas.gov/dataset/Community-Survey/s2py-ceb7/data">here</a>.</p><pre><code class="language-julia hljs">using Downloads, CSV, DataFrames
using Plots
using LLMTextAnalysis
plotlyjs() # recommended backend for interactivity, install with `using Pkg; Pkg.add(&quot;PlotlyJS&quot;)`

## Load the data
df = CSV.read(joinpath(@__DIR__, &quot;cityofaustin.csv&quot;), DataFrame);
col = &quot;Q25 - If there was one thing you could share with the Mayor regarding the City of Austin (any comment, suggestion, etc.), what would it be?&quot;
docs = df[!, col] |&gt; skipmissing |&gt; collect;

## Explore the topics in just 2 lines of code
index = build_index(docs)
pl = plot(index; title = &quot;City of Austin Community Survey Themes&quot;)</code></pre><p><img src="assets/austin_scatter.png" alt="Plot of Individual Documents"/></p><p>Run the example yourself via <code>examples/1_topics_in_city_of_austin_community_survey.jl</code> or check it here: <a href="examples/1_topics_in_city_of_austin_community_survey/#Example-1:-Topics-in-the-City-of-Austin-Community-Survey">Example 1: Topics in the City of Austin Community Survey</a>.</p><h3 id="Identify-and-Score-Documents-on-Arbitrary-Concepts-/-Spectrum"><a class="docs-heading-anchor" href="#Identify-and-Score-Documents-on-Arbitrary-Concepts-/-Spectrum">Identify and Score Documents on Arbitrary Concepts / Spectrum</a><a id="Identify-and-Score-Documents-on-Arbitrary-Concepts-/-Spectrum-1"></a><a class="docs-heading-anchor-permalink" href="#Identify-and-Score-Documents-on-Arbitrary-Concepts-/-Spectrum" title="Permalink"></a></h3><p>Sometimes you know what you&#39;re looking for, but it&#39;s hard to define the exact keywords. For example, you might want to identify documents that are &quot;action-oriented&quot; or &quot;pessimistic&quot; or &quot;forward-looking&quot;.</p><p>For these situations, <code>LLMTextAnalysis</code> offers two distinct functions for document analysis: <code>train_concept</code> and <code>train_spectrum</code>. Each serves a different purpose in text analysis:</p><ul><li><strong><code>train_concept</code></strong>: Focuses on analyzing a single, specific concept within documents (eg, &quot;action-oriented&quot;)</li><li><strong><code>train_spectrum</code></strong>: Analyzes documents in the context of two opposing concepts (eg, &quot;optimistic&quot; vs. &quot;pessimistic&quot; or &quot;forward-looking&quot; vs. &quot;backward-looking&quot;)</li></ul><p>The resulting return types are <code>TrainedConcept</code> and <code>TrainedSpectrum</code>, respectively. Both can be used to score documents on the presence of the concept or their position on the spectrum.</p><p>Why do we need <code>train_spectrum</code> and not simply use two <code>TrainedConcepts</code>? It&#39;s because opposite of &quot;forward-looking&quot; can be many things, eg, &quot;short-sighted&quot;, &quot;dwelling in the past&quot;, or simply &quot;not-forward looking&quot;. </p><p><code>train_spectrum</code> allows you to define the opposite concept that you need and score documents on the spectrum between the two.</p><h4 id="train_concept"><a class="docs-heading-anchor" href="#train_concept"><code>train_concept</code></a><a id="train_concept-1"></a><a class="docs-heading-anchor-permalink" href="#train_concept" title="Permalink"></a></h4><p>Identify and score the presence of a specific concept in documents.</p><pre><code class="language-julia hljs">index = build_index(docs)
concept = train_concept(index, &quot;sustainability&quot;)
scores = score(index, concept)

# show top 5 docs
index.docs[first(sortperm(scores, rev = true), 5)]
# 5-element Vector{String}:
# [&quot;focus on smart growth, sustainability and affordability are just as important as business development and should not be sacrificed for economic growth.&quot;, &quot;SUSTAINABILITY OF CITY&quot;, &quot;we need to plan for global climate change, water and energy programs must be robust&quot;, &quot;Public transport and planned, sustainable, affordable growth are the most important issues.&quot;, &quot;Make more conservation and sustainability efforts.&quot;]</code></pre><h4 id="train_spectrum"><a class="docs-heading-anchor" href="#train_spectrum"><code>train_spectrum</code></a><a id="train_spectrum-1"></a><a class="docs-heading-anchor-permalink" href="#train_spectrum" title="Permalink"></a></h4><p>Evaluate documents on a spectrum defined by two contrasting concepts.</p><pre><code class="language-julia hljs">index = &quot;...&quot; # re-use the index from the previous example
# aigenerate_kwargs are passed directly to PromptingTools.aigenerate (see PromptingTools.jl docs)
spectrum = train_spectrum(index, (&quot;forward-looking&quot;, &quot;dwelling in the past&quot;); 
  aigenerate_kwargs = (;model=&quot;gpt3t&quot;))
scores = score(index, spectrum)

# show top 5 docs for &quot;forward-looking&quot; (spectrum 1, ie, the &quot;highest&quot; score)
index.docs[first(sortperm(scores, rev = true), 5)]
# 5-element Vector{String}:
# [&quot;He is doing a great job. Setting planning for growth, transportation and mobility together is an excellent approach.&quot;, &quot;PLAN FOR ACCELERATED GROWTH. CLIMATE CHANGES PROMISES TO DELIVER MORE COASTAL CRISIS AND POPULATION DISPLACEMENT. AUSTIN WILL EXPAND AS A RESULT. THINK BIG. THANK YOU FOR PRIORITIZING SMART GROWTH AND A DENSE URBAN LANDSCAPE.&quot;, &quot;Austin will grow! Prioritize development and roadways.&quot;, &quot;Affordable housing. Better planning for future. Mass transit (rail system that covers City wide.&quot;, &quot;PLAN FOR THE FUTURE AND SUSTAINABLE GROWTH. STOP FOCUSING ON EXCLUSIVE SERVICES LIKE TOLL ROAD EXPANSION AND INSTEAD, PUSH FOR PROGRAMS WITH THE LARGEST BENEFIT FOR THE MOST PEOPLE IN THE FUTURE, LIKE A SUBWAY SYSTEM AND CITY-SPONSORED DISTRIBUTED SOLAR AND ELECTRIC VEHICLE NETWORK.&quot;]</code></pre><blockquote><p>[!TIP] Choose <code>train_concept</code> for depth in a single theme, and <code>train_spectrum</code> for comparative insights across two themes. Each function enhances text analysis with its unique approach to understanding document content.</p></blockquote><blockquote><p>[!TIP] Remember to <code>serialize</code> your trained concepts and spectra to the disk for future use. This will save you time and money when you need to restart the REPL session.</p></blockquote><h3 id="Classify-Documents"><a class="docs-heading-anchor" href="#Classify-Documents">Classify Documents</a><a id="Classify-Documents-1"></a><a class="docs-heading-anchor-permalink" href="#Classify-Documents" title="Permalink"></a></h3><p>Maybe you have done some fuzzy discovery at different levels of <code>k</code> (4,10,20,50). Now you have an idea of what you want, but neither of these auto-generated topic levels provide that - what should you do? </p><p><code>train_classifier</code> is the answer. It allows you to create a set of specific labels, one of which will be assigned to each document. </p><p>Difference against standard standard multi-class classification:</p><ul><li>It operates on &quot;embeddings&quot; of the documents, capturing the semantic essence of the text, while being much more cost-efficient than running <code>aiclassify</code> on each document.</li><li>It can be unsupervised, so you don&#39;t need to provide any labels for the documents (but you can if you want to). If there are no documents provided, the LLM engine will generate its own training data.</li></ul><pre><code class="language-julia hljs">index = &quot;...&quot; # re-use the index from the previous example
# Let&#39;s create a few labels inspired by the automatic topic detection
labels = [&quot;Improving traffic situation&quot;, &quot;Taxes and public funding&quot;,
    &quot;Safety and community&quot;, &quot;Other&quot;]
  
# Adding label descriptions will improve the quality of generated documents:
labels_description = [
    &quot;Survey responses around infrastructure, improving traffic situation and related&quot;,
    &quot;Decreasing taxes and giving more money to the community&quot;,
    &quot;Survey responses around Homelessness, general safety and community related topics&quot;,
    &quot;Any other topics like environment, education, governance, etc.&quot;]

# Train the classifier - it will generate 20 document examples (5 for each label x 4 labels). Ideally, you should aim for 10-20 examples per label.
cls = train_classifier(index, labels; labels_description)

# Get scores for all documents
scores = score(index, cls)

# Best label for each document
best_labels = score(index, cls; return_labels = true)</code></pre><p>If you want to plot these, you can create a new <code>topic_level</code> in your index and then plot it as usual.</p><pre><code class="language-julia hljs"># Notice we provide our classifier `cls` as the second argument
build_clusters!(index, cls; topic_level = &quot;MyClusters&quot;)

# Let&#39;s plot our clusters:
plot(index; topic_level = &quot;MyClusters&quot;, title = &quot;My Custom Clusters&quot;)</code></pre><blockquote><p>[!TIP]  Be careful that if all the scores are similar, it means that the classifier is not very confident about the classification. Ie, look out for scores around <code>1/number_of_labels</code>.</p></blockquote><blockquote><p>[!TIP] When you provide a vector of labels, try to add some &quot;catch all&quot; category like &quot;Other&quot; or &quot;Not sure&quot; to catch the documents that don&#39;t fit any of the provided labels.</p></blockquote><h3 id="Create-Custom-Topic-Levels"><a class="docs-heading-anchor" href="#Create-Custom-Topic-Levels">Create Custom Topic Levels</a><a id="Create-Custom-Topic-Levels-1"></a><a class="docs-heading-anchor-permalink" href="#Create-Custom-Topic-Levels" title="Permalink"></a></h3><p>Both <code>build_clusters!</code> and <code>plot</code> expose a keyword argument to create a new named <code>topic_level</code> in the <code>index</code>.</p><pre><code class="language-julia hljs">build_clusters!(index, cls; topic_level = &quot;MyClusters&quot;)
# Note: If not `topic_level` is provided, it will default to &quot;Custom_1&quot;.

# Check what topic_levels are available
topic_levels(index) |&gt; keys</code></pre><p>You can create your custom topic levels without a classifier by directly providing the document <code>assignments</code> (ie, the cluster number for each document).</p><pre><code class="language-julia hljs">build_clusters!(index, assignments; topic_level = &quot;MyClusters2&quot;, labels=[&quot;Label 1&quot;, &quot;Label 2&quot;, &quot;Label 3&quot;,...])</code></pre><p>Then you can simply plot them via</p><pre><code class="language-julia hljs">plot(index; topic_level = &quot;MyClusters2&quot;, title = &quot;My Custom Clusters #2&quot;)</code></pre><h3 id="Advanced-Features-and-Best-Practices"><a class="docs-heading-anchor" href="#Advanced-Features-and-Best-Practices">Advanced Features and Best Practices</a><a id="Advanced-Features-and-Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Features-and-Best-Practices" title="Permalink"></a></h3><p>This section covers more advanced use cases and best practices for optimal results.</p><ul><li>Serialize your index to the disk (once the topics are fitted)! Saves money and time when you need to restart the REPL session.</li><li>If you dislike the INFO logs, set <code>verbose=false</code>.</li><li>Start by &quot;zooming out&quot; to get a sense of the overall themes (set <code>k=4</code>), then &quot;zoom in&quot; to explore the sub-themes (eg, set <code>k=20</code>)</li><li>Leverage the plot interactivity (<code>PlotlyJS</code> backend will display the actual texts and topic labels on hover).</li><li>For diverse datasets like survey questions (eg, DataFrame with many columns), create a separate index for each open-ended question for easy comparison / switching back and forth.</li><li>For large documents, use <code>split_by_length</code> from PromptingTools.jl to split them into smaller chunks and explore the sub-themes.</li><li>The package is designed for tens of thousands of documents, typically processed within minutes. For hundreds of thousands of documents, please await future versions with enhanced efficiency features.</li></ul><h3 id="Core-Concepts"><a class="docs-heading-anchor" href="#Core-Concepts">Core Concepts</a><a id="Core-Concepts-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Concepts" title="Permalink"></a></h3><p>LLMTextAnalysis.jl revolves around the <code>DocIndex</code> struct, which stores document chunks, embeddings, and related data. Document embeddings are pivotal, capturing the semantic essence of text chunks. LLMs are then employed to categorize and label the emerging themes.</p><h3 id="FAQs-and-Troubleshooting"><a class="docs-heading-anchor" href="#FAQs-and-Troubleshooting">FAQs and Troubleshooting</a><a id="FAQs-and-Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#FAQs-and-Troubleshooting" title="Permalink"></a></h3><p>For answers to common questions and troubleshooting advice, please refer to the FAQ section in the docs or open an issue. It also includes some directions for future development.</p><h3 id="Inspirations-and-Acknowledgements"><a class="docs-heading-anchor" href="#Inspirations-and-Acknowledgements">Inspirations and Acknowledgements</a><a id="Inspirations-and-Acknowledgements-1"></a><a class="docs-heading-anchor-permalink" href="#Inspirations-and-Acknowledgements" title="Permalink"></a></h3><p>The development of LLMTextAnalysis.jl drew inspiration from tools like <a href="https://www.lilacml.com/">lilac</a>, <a href="https://atlas.nomic.ai/">Nomic Atlas</a>, and the work of Linus Lee (see the <a href="https://www.youtube.com/watch?v=YvobVu1l7GI">presentation at AI Engineer Summit 2023</a>).</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/1_topics_in_city_of_austin_community_survey/">Explore Topics in Your Documents »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 18 November 2024 20:32">Monday 18 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
